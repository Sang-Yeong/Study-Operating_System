[운영체제- 7. 프로세스 관리: 4. 임계구역 문제 및 세마포어]

# 임계구역
- 임계구역 문제: 한 번에 한 쓰레드만 업데이트하는 프로세스 동기화가 필요
- 임계구역(Critical section): 여러 개의 쓰레드로 이루어진 시스템에서 각각의 쓰레드는 코드의 영역을 가지고 있는 부분
	- 공통으로 사용하는 데이터를 바꾸거나 테이블을 업데이트하거나 파일을 쓰거나 하는 일을 할 수 있다.

- 임계구역 문제 해결위한 3가지 조건
	- 1. 상호배타(Mutual exclusion)
		- 오류가 일어나지 않기 위해서는 데이터에 대한 업데이트는 한 순간에 오직 한 쓰레드만이 진행할 수 O
	- 2. 진행(Progress)
		- 두 쓰레드에서 누가 먼저 들어갈 것인가에 대한 결정이 유한 시간 내에 일어나야한다는 조건
	- 3. 유한대기(Bounded waiting)
		- 쓰레드가 임계구역에 유한 시간 내에 접근을 해야 한다는 것을 의미
		- 무한한 시간동안 아무도 접근을 하지 않는 경우가 발생해서는 안 된다.


- 프로세스 동기화: 프로세스의 실행 순서를 제어를 할 수 있다는 것을 의미
스레드 단위로 프로그램 움직임. --> 프로세스 동기화를 쓰레드 동기화라고 생각할 수 있음.
스레드 동기화: 쓰레드를 우리가 원하는 실행 순서에 따라 제어를 할 수 있는 것
==> 실행 순서를 제어를 함으로써 임계구역 문제를 해결


- 동기화 통해 스레드를 제어하기 위한 도구
	- 모니터
	- 맥
	- 세마포: 동기화 문제(임계구역 문제) 해결을 위한 소프트웨어 도구
		- 메인 메모리에서 쓰레드가 동작할 때 갈 수 있는 또 다른 루트인데 동기화를 위해 존재
		- 동기화의 조건 중에서 상호배타의 역할을 위해서 존재
		- (구조적)정수형 변수와 두 개의 동작(P, V)으로 구성
			- 정수 값을 증가시키거나(V동작) 검사하는 역할(P동작)
			- V동작: release()
				- 정수 값을 1 증가시키고 리스트에서 쓰레드를 방출
			- P동작: acquire()
				- 호출 시,정수 값이 1만큼 감소/ 값이 0보다 작게 되면 세마포에 존재하는 리스트(Queue)에 쓰레드를 넣고 block시킴.
			정수 값은 권한의 개수



출처: https://copycode.tistory.com/58?category=740133 [ITstory]